{"version":3,"file":"69.js","mappings":"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","sources":["./apps/demo/src/app/getting-started/getting-started.component.ts","./apps/demo/src/app/getting-started/getting-started.template.html","./apps/demo/src/app/getting-started/getting-started.module.ts"],"sourcesContent":["import {ChangeDetectionStrategy, Component} from '@angular/core';\n\nconst script = `import {\n  setActiveProject,\n  createProject,\n  getImports,\n  NgMorphTree,\n} from 'ng-morph';\n\n/**\n * set all ng-morph functions to work with the all TS and JSON files\n * of the current project\n * */\nsetActiveProject(\n  createProject(new NgMorphTree(), '/', ['**/*.ts', '**/*.json'])\n);\n\n/**\n * This simple migration gets all imports from the project TS files and\n * replaces 'old' substring with 'new'\n * */\nconst imports = getImports('some/path/**.ts', {\n    moduleSpecifier: '@morph-old*',\n});\n\neditImports(imports, importEntity => ({\n    moduleSpecifier: importEntity.moduleSpecifier.replace('old', 'new')\n}));\n\n/**\n * All changes are made in a virtual project.\n * You can save them when it is time\n * */\nsaveActiveProject();\n`;\n\nconst creatingRule = `import {\n    setActiveProject,\n    saveActiveProject,\n    createProject,\n    getImports,\n    editImports,\n} from 'ng-morph';\n\nexport default (): Rule => {\n    return tree => {\n        /**\n         * set all ng-morph functions to work with the all TS and JSON files\n         * of the current project\n         * */\n        setActiveProject(createProject(tree, '/', ['**/*.ts', '**/*.json']));\n\n        /**\n         * This function gets all imports from the project TS files and\n         * replaces 'old' substring with 'new'\n         * */\n        const imports = getImports('some/path/**.ts', {\n            moduleSpecifier: '@morph-old*',\n        });\n\n        editImports(imports, importEntity => ({\n            moduleSpecifier: importEntity.moduleSpecifier.replace('old', 'new')\n        }));\n\n        /**\n         * All changes are made in a virtual project.\n         * You can save them when it is time\n         * */\n        saveActiveProject();\n    };\n};`;\n\nconst creatingSpec = `\n// We use schematics devkit to emulate virtual Tree\nimport {SchematicTestRunner, UnitTestTree} from '@angular-devkit/schematics/testing';\nimport {HostTree} from '@angular-devkit/schematics';\n\n// We can emulate filesystem with ng-morph\nimport {\n    createProject,\n    resetActiveProject,\n    setActiveProject,\n    createSourceFile,\n    saveActiveProject,\n} from 'ng-morph';\n\nconst collectionPath = join(__dirname, '../collection.json');\n\ndescribe('ng-add', () => {\n    describe('removes old postfix', () => {\n        let host: UnitTestTree;\n        let runner: SchematicTestRunner;\n\n        beforeEach(() => {\n            host = new UnitTestTree(new HostTree());\n            runner = new SchematicTestRunner('schematics', collectionPath);\n\n            // preparing virtual file tree with one file\n            setActiveProject(createProject(host));\n\n            createSourceFile(\n                'src/module.ts',\n                \"import {a} from '@morph-old/core';\",\n            );\n\n            saveActiveProject();\n        });\n\n        it('should replace old with new in TS imports', async () => {\n            expect.assertions(1);\n\n            // Our migration returns Tree\n            const tree = await runner.runSchematicAsync('ng-add', {}, host).toPromise();\n\n            expect(tree.readContent('src/module.ts')).toEqual(\n                \"import {a} from '@morph-new/core';\",\n            );\n        });\n\n        afterEach(() => {\n            // clear it up\n            resetActiveProject();\n        });\n    });\n});\n`;\n\n@Component({\n    selector: 'getting-started',\n    templateUrl: './getting-started.template.html',\n    styles: [':host {max-width: 1200px}'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class GettingStartedComponent {\n    readonly script = script;\n    readonly creatingRule = creatingRule;\n    readonly creatingSpec = creatingSpec;\n}\n","<tui-doc-page header=\"Getting started\">\n    <p>\n        <strong>ng-morph</strong>\n        is a large set of tools for both global code base updates in your project and speeding up your work on Angular\n        schematics. It has\n        <a\n            href=\"https://ts-morph.com/\"\n            tuiLink\n        >\n            ts-morph\n        </a>\n        under the hood and allows you to manipulate with safe TypeScript AST.\n    </p>\n\n    <section>\n        <h3>Why is it better than default schematics?</h3>\n\n        <ul>\n            <li>ðŸ¦… You can quickly write migrations for your own project and run it as a simple script</li>\n\n            <li>\n                ðŸ›  There are many tools made for working with Angular. You can easily find and manipulate TS and Ng\n                entities.\n            </li>\n\n            <li>\n                âœ… You work with an abstract tree and it can be replaced, for example, with virtual tree for testing\n                instead of real file system. So, you can test your schematics rapidly fast.\n            </li>\n        </ul>\n    </section>\n\n    <h3>How to install</h3>\n\n    <tui-doc-code code=\"npm i --save-dev ng-morph\"></tui-doc-code>\n\n    <p>\n        You also need\n        <code>@angular-devkit/core</code>\n        and\n        <code>@angular-devkit/schematics</code>\n        to be installed.\n    </p>\n\n    <p>Enjoy!</p>\n\n    <section>\n        <h3>How to run ng-morph</h3>\n\n        <h4>Running in your own project as a script</h4>\n\n        <p>\n            You can use ng-morph for global updates of your porject code base, big refactiorings, dependencies\n            migrations and much more. Just describe everything you want in a simple script and run it.\n        </p>\n\n        <tui-doc-code\n            filename=\"script.ts\"\n            [code]=\"script\"\n        ></tui-doc-code>\n\n        <p>\n            Now you can compile and run this script or just use something like\n            <a\n                href=\"https://www.npmjs.com/package/ts-node\"\n                target=\"_blank\"\n                tuiLink\n            >\n                ts-node\n            </a>\n            that allows you to start TS script as soon as it is ready.\n        </p>\n\n        <h4>Creating schematics for publishing with libraries</h4>\n\n        You can write schematics scripts to simplify your library installation or make fully automated migrations\n        between releases with breaking changes.\n\n        <p>\n            Creating Angular\n            <code>ng-add</code>\n            or\n            <code>ng-update</code>\n            schematics you work with\n            <a\n                href=\"https://angular.io/guide/schematics-for-libraries#define-the-rule\"\n                target=\"_blank\"\n                tuiLink\n            >\n                Rule\n            </a>\n            functions. Rule function gets a\n            <code>Tree</code>\n            as a first argument and you can pass this tree to\n            <code>setActiveProject</code>\n            function from ng-morph the following way:\n        </p>\n\n        <tui-doc-code\n            filename=\"ng-add.ts\"\n            [code]=\"creatingRule\"\n        ></tui-doc-code>\n    </section>\n\n    <section>\n        <h3>How to test your schematics</h3>\n\n        <p>You can use any test runner you like to check that your schematics work as you expect.</p>\n\n        <p>Let's try to test the migration above:</p>\n\n        <tui-doc-code\n            filename=\"ng-add.spec.ts\"\n            [code]=\"creatingSpec\"\n        ></tui-doc-code>\n    </section>\n\n    <section>\n        <h3>What is next?</h3>\n\n        <p>\n            So, now you know how to set it up. Give a star to\n            <a\n                href=\"https://github.com/taiga-family/ng-morph\"\n                target=\"_blank\"\n                tuiLink\n            >\n                our project on Github\n            </a>\n            and start exploring utils in the left menu to find all the tools you need. We suggest you to start with\n            <a\n                routerLink=\"/classes\"\n                tuiLink\n            >\n                Classes\n            </a>\n        </p>\n    </section>\n</tui-doc-page>\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {RouterModule} from '@angular/router';\nimport {TuiDocCodeModule, TuiDocPageModule, tuiGenerateRoutes} from '@taiga-ui/addon-doc';\nimport {TuiLinkModule} from '@taiga-ui/core';\nimport {GettingStartedComponent} from './getting-started.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        TuiDocPageModule,\n        TuiLinkModule,\n        TuiDocCodeModule,\n        RouterModule,\n        RouterModule.forChild(tuiGenerateRoutes(GettingStartedComponent)),\n    ],\n    declarations: [GettingStartedComponent],\n    exports: [GettingStartedComponent],\n})\nexport class GettingStartedModule {}\n"],"names":["script","creatingRule","creatingSpec","GettingStartedComponent","constructor","_","_2","selectors","decls","vars","consts","template","GettingStartedComponent_Template","rf","ctx","i0","ÉµÉµelementStart","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµelement","ÉµÉµadvance","ÉµÉµproperty","CommonModule","RouterModule","TuiDocCodeModule","TuiDocPageModule","tuiGenerateRoutes","TuiLinkModule","GettingStartedModule","_3","forChild","declarations","imports","i1","exports"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}